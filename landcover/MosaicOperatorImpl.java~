package landcover;

import toposwapper.LookupManager;
import toposwapper.TopoSwapperException;

import org.esa.beam.framework.datamodel.Product;

import java.util.List;
import java.util.Properties;

public class MosaicOperatorImpl implements MosaicOperator
{
    Properties params;

    public MosaicOperatorImpl(Properties params)
    {
	this.params = params;
    }
    public Product mosaicTiles(List<GLCTile> glcTiles) 
	throws TopoSwapperException
    {
	
	GLCFileReaderHelper glcfrh = (GLCFileReaderHelper)LookupManager.lookup("GLCFileReaderHelper");
	Product[] products = glcfrh.readDataProduct(glcTiles);
	for (int i = 0; i < products.length ; i++)
	    {
		Product product = products[i];
		System.out.println("The height is " + product.getSceneRasterHeight());
		System.out.println("The width is " + product.getSceneRasterWidth());
	    }
	BeamMosaicOperator bmo = new BeamMosaicOperator(params);
	return bmo.performMosaicOperation(products);
    }
}
